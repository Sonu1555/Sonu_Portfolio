<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Contact Us Form</title>
    <link rel="stylesheet" href="contactstyle.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" />
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <div class="container">
      <div class="content">
        <div class="left-side">
          <div class="address details">
            <i class="fas fa-map-marker-alt"></i>
            <div class="topic">Address</div>
            <div class="text-one">Wadala, Mumbai</div>
            <div class="text-two">Maharashtra</div>
          </div>
          <div class="phone details">
            <i class="fas fa-phone-alt"></i>
            <div class="topic">Phone</div>
            <div class="text-one">+91 7399779786</div>
          </div>
          <div class="email details">
            <i class="fas fa-envelope"></i>
            <div class="topic">Email</div>
            <div class="text-one">sonukahar41@gmail.com</div>
          </div>
        </div>
        <div class="right-side">
          <div class="topic-text">Send Me A Message</div>
          <p>If you have any work from me, you can send me message from here. It's my pleasure to help you.</p>
          <form action="#" id="form">
            <div class="input-box">
              <input type="text" id="nameInput" placeholder="Enter your name" />
            </div>
            <div class="input-box">
              <input type="text" id="emailInput" placeholder="Enter your email" />
            </div>
            <div class="input-box message-box">
              <textarea id="messageInput" placeholder="Enter your message"></textarea>
            </div>
            <div class="button">
              <input type="button" id="sendButton" value="Send Now" />
            </div>
            <a href="index.html" class="previous">&laquo; Back to HomePage</a>
          </form>
          <script>
            const form = document.getElementById('form');
            const nameInput = document.getElementById('nameInput');
            const emailInput = document.getElementById('emailInput');
            const messageInput = document.getElementById('messageInput');
          
            emailjs.init('-wYGfWVbuJsKq6MgZ'); // Replace with your EmailJS User ID
          
            document.getElementById('sendButton').addEventListener('click', function(event) {
              event.preventDefault();
          
              if (!nameInput.value.trim() || !emailInput.value.trim() || !messageInput.value.trim()) {
                alert('Please fill in all fields before sending.');
              } else if (!validateEmail(emailInput.value)) {
                alert('Please enter a valid email address.');
              } else {
                // Send email using EmailJS
                const emailParams = {
                  to_name: nameInput.value,
                  from_email: emailInput.value,
                  message: messageInput.value
                };
          
                emailjs.send('service_w18pcvr', 'template_hus9891', emailParams)
                  .then(function(response) {
                    console.log('Email sent:', response);
                    alert('Message sent successfully!');
                    nameInput.value = '';
                    emailInput.value = '';
                    messageInput.value = '';
                  })
                  .catch(function(error) {
                    console.error('Email error:', error);
                    alert('Error sending message. Please try again later.');
                  });
              }
            });
          
            function validateEmail(email) {
              const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
              return emailPattern.test(email);
            }
          </script>
          
        </div>
      </div>
    </div>
  </body>
</html>
